{% extends "base.html" %}
{% block content %}
<section class="card glow fade-in-up">
  <h2>Health profile</h2>
  <form method="post" class="form">
    <div class="grid-2">
      <label>Full name <input name="name" value="{{ profile.name if profile else '' }}"></label>
      <label>Age <input name="age" type="number" min="0" value="{{ profile.age if profile and profile.age is not none else '' }}"></label>
      <label>Gender <input name="gender" value="{{ profile.gender if profile else '' }}"></label>
      <label>Weight (kg) <input name="weight_kg" type="number" step="0.1" min="0" value="{{ profile.weight_kg if profile and profile.weight_kg is not none else '' }}"></label>
      <label>Height (cm) <input name="height_cm" type="number" step="0.1" min="0" value="{{ profile.height_cm if profile and profile.height_cm is not none else '' }}"></label>
      <label>Time zone <input name="tz" value="{{ profile.tz if profile else '' }}" placeholder="e.g., America/Phoenix"></label>
      <label>Emergency contact <input name="emergency_contact" value="{{ profile.emergency_contact if profile else '' }}"></label>
      <label>Phone (for SMS) <input name="phone" value="{{ profile.phone if profile else '' }}" placeholder="+15555555555"></label>
      <label style="display:flex; align-items:center; gap:14px; padding-top:22px;">
        <span><input type="checkbox" name="notify_email" {% if profile.notify_email %}checked{% endif %}> Email reminders</span>
        <span><input type="checkbox" name="notify_sms" {% if profile.notify_sms %}checked{% endif %}> SMS reminders</span>
      </label>
    </div>
    <label>Conditions <textarea name="conditions" rows="2">{{ profile.conditions if profile else '' }}</textarea></label>
    <label>Allergies <textarea name="allergies" rows="2">{{ profile.allergies if profile else '' }}</textarea></label>
    <label>Medications <textarea name="medications" rows="2">{{ profile.medications if profile else '' }}</textarea></label>
    <label>Goals <textarea name="goals" rows="2" placeholder="e.g., lose 10 lbs safely, control BP">{{ profile.goals if profile else '' }}</textarea></label>
    <label>Diet preferences <textarea name="diet_prefs" rows="2" placeholder="e.g., vegetarian, low sodium">{{ profile.diet_prefs if profile else '' }}</textarea></label>
    <label>Activity limits <textarea name="activity_limits" rows="2" placeholder="e.g., knee pain; avoid high-impact">{{ profile.activity_limits if profile else '' }}</textarea></label>
    <label>Notes <textarea name="notes" rows="2" placeholder="anything else">{{ profile.notes if profile else '' }}</textarea></label>
    <button class="btn" type="submit">Save profile</button>
  </form>
</section>
{% endblock %}
