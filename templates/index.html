{% extends "base.html" %}

{% block title %}Vital Guard - AI-Powered Personal Health Management Platform{% endblock %}
{% block description %}Track medications, analyze symptoms with AI, set health reminders, and manage your complete health profile. Secure, intelligent health management for better wellness outcomes.{% endblock %}

{% block content %}
<section class="hero">
  <div class="fade-in-up">
    <h1>Your Personal Health Guardian</h1>
    <p>Intelligent symptom analysis, medication tracking, proactive reminders, and personalized health plans—all in one secure place.</p>
    <div class="actions">
      <a class="btn" href="{{ url_for('assistant') }}">Ask AI Assistant</a>
      {% if not current_user.is_authenticated %}
      <a class="btn btn-ghost" href="{{ url_for('register') }}">Get Started for Free</a>
      {% else %}
      <a class="btn btn-ghost" href="{{ url_for('profile') }}">View My Profile</a>
      {% endif %}
    </div>
  </div>
</section>

<div class="grid">
  <section class="card fade-in-up delay-1">
    <h2>📅 Upcoming Reminders</h2>
    {% if current_user.is_authenticated and upcoming %}
      <ul class="list list-separated">
        {% for r in upcoming %}
          <li>
            <div>
              <span class="pill {{ r.kind }}">{{ r.kind }}</span>
              <strong>{{ r.title }}</strong>
            </div>
            <span class="muted">{{ r.due_at.strftime("%b %d, %-I:%M %p") }}</span>
          </li>
        {% endfor %}
      </ul>
      <div style="margin-top: 16px;">
        <a href="{{ url_for('reminders') }}" class="btn btn-ghost">View All Reminders</a>
      </div>
    {% elif current_user.is_authenticated %}
        <p class="muted">You have no upcoming reminders. <a href="{{ url_for('reminders') }}">Create one now</a>.</p>
    {% else %}
      <p class="muted">Log in to see and create personalized health reminders.</p>
    {% endif %}
  </section>

  {% if current_user.is_authenticated %}
  <section class="card fade-in-up delay-2">
    <h2>💊 Quick Health Overview</h2>
    {% if profile %}
      <div style="display: grid; gap: 12px;">
        {% if profile.conditions %}
          <div><strong>Conditions:</strong> <span class="muted">{{ profile.conditions[:50] }}{% if profile.conditions|length > 50 %}...{% endif %}</span></div>
        {% endif %}
        {% if profile.family_history %}
          <div><strong>Family History:</strong> <span class="muted">{{ profile.family_history[:50] }}{% if profile.family_history|length > 50 %}...{% endif %}</span></div>
        {% endif %}
        {% if profile.goals %}
          <div><strong>Current Goals:</strong> <span class="muted">{{ profile.goals[:50] }}{% if profile.goals|length > 50 %}...{% endif %}</span></div>
        {% endif %}
      </div>
      <div style="margin-top: 16px; display: flex; gap: 8px;">
        <a href="{{ url_for('profile') }}" class="btn btn-ghost">Update Profile</a>
        <a href="{{ url_for('medications') }}" class="btn btn-ghost">Manage Medications</a>
      </div>
    {% else %}
      <p class="muted">Complete your <a href="{{ url_for('profile') }}">health profile</a> to get personalized insights and better AI recommendations.</p>
    {% endif %}
  </section>
  {% else %}
  <section class="card fade-in-up delay-2">
    <h2>🚀 Get Started</h2>
    <p class="muted small">Create your account to unlock powerful health management features:</p>
    <ul style="margin: 12px 0; color: #64748b;">
      <li>🤖 AI-powered symptom analysis</li>
      <li>💊 Medication tracking & refill alerts</li>
      <li>📅 Smart health reminders</li>
      <li>👥 Family care team access</li>
      <li>📊 Health data export</li>
    </ul>
    <a href="{{ url_for('register') }}" class="btn">Create Free Account</a>
  </section>
  {% endif %}
</div>

{% if current_user.is_authenticated %}
<section class="card fade-in-up delay-3" style="text-align: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none;">
  <h3 style="margin-top: 0; color: white;">🧠 AI Health Assistant</h3>
  <p style="margin-bottom: 16px; opacity: 0.9;">Get instant, personalized health guidance based on your symptoms and medical history.</p>
  <a href="{{ url_for('assistant') }}" class="btn" style="background: white; color: #667eea;">Try AI Assistant</a>
</section>
{% endif %}

<!-- SEO Content Section -->
<section class="card fade-in-up delay-4" style="margin-top: 40px;">
  <h2>Why Choose Vital Guard for Your Health Management?</h2>
  <div class="grid-2">
    <div>
      <h3>🤖 AI-Powered Health Insights</h3>
      <p class="muted">Our advanced AI analyzes your symptoms and medical history to provide personalized health recommendations and connect you with the right specialists.</p>
      
      <h3>💊 Smart Medication Management</h3>
      <p class="muted">Never miss a dose or refill again. Track medications, set reminders, and monitor your prescription schedule with intelligent alerts.</p>
    </div>
    <div>
      <h3>🔒 Secure & Private</h3>
      <p class="muted">Your health data is encrypted and secure. Export your data anytime and maintain complete control over your health information.</p>
      
      <h3>👨‍⚕️ Care Team Coordination</h3>
      <p class="muted">Share access with family members and healthcare providers to ensure coordinated, comprehensive care for better health outcomes.</p>
    </div>
  </div>
</section>
{% endblock %}